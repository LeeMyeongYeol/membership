# LongestMovie Backend - λ¦¬ν©ν† λ§ μ™„λ£

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
backend/
β”β”€β”€ app.py                    # Flask μ•± μ§„μ…μ  (κ°„μ†ν™”λ¨)
β”β”€β”€ app_old.py                # μ΄μ „ λ²„μ „ λ°±μ—…
β”β”€β”€ config.py                 # ν™κ²½ λ³€μ λ° μ„¤μ •
β”‚
β”β”€β”€ api/                      # API μ—”λ“ν¬μΈνΈ
β”‚   β”β”€β”€ __init__.py
β”‚   β””β”€β”€ routes.py             # Flask λΌμ°νΈ μ •μ
β”‚
β”β”€β”€ services/                 # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”β”€β”€ __init__.py
β”‚   β”β”€β”€ tmdb_service.py       # TMDb API μ„λΉ„μ¤
β”‚   β”β”€β”€ omdb_service.py       # OMDb API μ„λΉ„μ¤
β”‚   β””β”€β”€ recommendation.py     # μ¶”μ² μ•κ³ λ¦¬μ¦ (TF-IDF)
β”‚
β”β”€β”€ templates/                # HTML ν…ν”λ¦Ώ
β”‚   β””β”€β”€ index.html
β”‚
β”β”€β”€ utils/                    # κ³µν†µ μ ν‹Έλ¦¬ν‹° (ν™•μ¥ κ°€λ¥)
β”‚   β””β”€β”€ __init__.py
β”‚
β”β”€β”€ requirements.txt          # Python μμ΅΄μ„±
β””β”€β”€ Dockerfile
```

## π”§ μ£Όμ” λ³€κ²½μ‚¬ν•­

### 1. **λ¨λ“ν™”**
- λ‹¨μΌ νμΌ(500μ¤„)μ—μ„ μ—­ν• λ³„λ΅ λ¶„λ¦¬
- κ° λ¨λ“μ΄ λ…ν™•ν• μ±…μ„μ„ κ°€μ§

### 2. **μ„λΉ„μ¤ λ μ΄μ–΄**
- `TMDbService`: TMDb API νΈμ¶ μ „λ‹΄
- `OMDbService`: OMDb API νΈμ¶ μ „λ‹΄
- `RecommendationService`: TF-IDF μ¶”μ² μ•κ³ λ¦¬μ¦ μ „λ‹΄

### 3. **μ„¤μ • κ΄€λ¦¬**
- `config.py`μ—μ„ λ¨λ“  ν™κ²½ λ³€μμ™€ μ„¤μ •μ„ μ¤‘μ•™ κ΄€λ¦¬
- ν•λ“μ½”λ”©λ κ°’ μ κ±°

### 4. **API λΌμ°νΈ λ¶„λ¦¬**
- `api/routes.py`μ—μ„ Flask μ—”λ“ν¬μΈνΈλ§ κ΄€λ¦¬
- λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λΌμ°ν… λ΅μ§ λ¶„λ¦¬

### 5. **ν…ν”λ¦Ώ λ¶„λ¦¬**
- HTMLμ„ λ³„λ„ νμΌλ΅ λ¶„λ¦¬
- μ½”λ“ κ°€λ…μ„± ν–¥μƒ

## π€ μ‹¤ν–‰ λ°©λ²•

### κΈ°μ΅΄ λ°©λ²•κ³Ό λ™μΌ
```bash
python app.py
```

### Docker μ‚¬μ©
```bash
docker-compose up
```

## π“ κ°λ° κ°€μ΄λ“

### μƒλ΅μ΄ API μ—”λ“ν¬μΈνΈ μ¶”κ°€
`api/routes.py`μ— μƒ λΌμ°νΈ μ¶”κ°€

### μƒλ΅μ΄ μ„λΉ„μ¤ λ΅μ§ μ¶”κ°€
`services/` λ””λ ‰ν† λ¦¬μ— μƒ μ„λΉ„μ¤ νμΌ μƒμ„±

### μ„¤μ • κ°’ μ¶”κ°€
`config.py`μ `Config` ν΄λμ¤μ— μ¶”κ°€

### κ³µν†µ ν•¨μ μ¶”κ°€
`utils/` λ””λ ‰ν† λ¦¬μ— ν—¬νΌ ν•¨μ μ¶”κ°€

## β™οΈ ν™κ²½ λ³€μ

`.env` νμΌμ— λ‹¤μ μ„¤μ • ν•„μ”:

```env
TMDB_API_KEY=your_tmdb_key
OMDB_API_KEY=your_omdb_key

# μ„ νƒμ‚¬ν•­
CANDIDATE_LIMIT=150
TOPN=20
ENRICH_TOP=10
MAX_WORKERS=8
PORT=8000
DEBUG=True
```

## π― λ‹¤μ κ°μ„  μ‚¬ν•­

- [ ] μ—λ¬ ν•Έλ“¤λ§ κ°•ν™”
- [ ] λ΅κΉ… μ‹μ¤ν… μ¶”κ°€
- [ ] μΊμ‹± λ μ΄μ–΄ μ¶”κ°€ (Redis)
- [ ] API ν…μ¤νΈ μ½”λ“ μ‘μ„±
- [ ] API λ¬Έμ„ν™” (Swagger/OpenAPI)
- [ ] λ°μ΄ν„° κ²€μ¦ (Pydantic)

## π“ μμ΅΄μ„±

μ£Όμ” λΌμ΄λΈλ¬λ¦¬:
- Flask
- requests
- scikit-learn
- numpy
- python-dotenv

μ „μ²΄ λ©λ΅μ€ `requirements.txt` μ°Έκ³ 
